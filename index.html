<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professores do Paraná - Apoio Educacional</title>
    <meta name="description" content="Portal feito por aluno do Colégio Estadual Prof. José Carlos Pinotti: calendário, IA, BNCC, inclusão e mais para professores do Paraná!">
    <style>
        :root {
            --azul-pr: #004080;
            --azul-claro: #0066cc;
            --branco: #ffffff;
            --cinza-claro: #f4f4f4;
            --vermelho-pr: #c8102e;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--cinza-claro); color: #333; }
        header { background: linear-gradient(to right, var(--azul-pr), var(--azul-claro)); color: white; text-align: center; padding: 4rem 1rem; }
        header h1 { font-size: 3rem; margin-bottom: 0.5rem; }
        nav { background: var(--azul-pr); padding: 1rem; text-align: center; }
        nav a { color: white; margin: 0 1.5rem; text-decoration: none; font-weight: bold; }
        nav a:hover { color: var(--vermelho-pr); }
        .container { max-width: 1100px; margin: 2rem auto; padding: 0 1rem; background: white; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); padding: 2rem; }
        footer { background: var(--azul-pr); color: white; text-align: center; padding: 2rem; margin-top: 3rem; }
    </style>
</head>
<!-- MyakyBot – Com IA real do Groq (Grok-3) dentro da mesma janela -->
<div id="myakybot-container">
    <button id="myakybot-toggle" title="MyakyBot – Estou aqui para ajudar">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z" fill="var(--azul-pr)"/>
        </svg>
    </button>

    <div id="myakybot-window" class="hidden">
        <div class="myakybot-header">
            <span>MyakyBot – Assistente dedicado</span>
            <button id="myakybot-close">×</button>
        </div>
        <div id="myakybot-messages"></div>
        <div class="myakybot-input-area">
            <input type="text" id="myakybot-input" placeholder="Digite sua dúvida ou solicitação...">
            <button id="myakybot-send">Enviar</button>
        </div>
    </div>
</div>

<style>
    #myakybot-container {
        position: fixed;
        bottom: 25px;
        right: 25px;
        z-index: 9999;
    }

    #myakybot-toggle {
        width: 70px;
        height: 70px;
        border-radius: 50%;
        background: var(--azul-pr);
        color: white;
        border: none;
        cursor: pointer;
        box-shadow: 0 6px 20px rgba(0,64,128,0.3);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #myakybot-toggle:hover {
        background: var(--azul-claro);
        transform: scale(1.1);
        box-shadow: 0 10px 30px rgba(0,102,204,0.4);
    }

    #myakybot-window {
        position: absolute;
        bottom: 95px;
        right: 0;
        width: 380px;
        height: 520px;
        background: white;
        border-radius: 16px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.25);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        transition: all 0.4s ease;
        opacity: 0;
        transform: translateY(20px);
    }

    #myakybot-window:not(.hidden) {
        opacity: 1;
        transform: translateY(0);
    }

    .myakybot-header {
        background: var(--azul-pr);
        color: white;
        padding: 1.2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 600;
        font-size: 1.2rem;
    }

    #myakybot-close {
        background: none;
        border: none;
        color: white;
        font-size: 2rem;
        cursor: pointer;
        line-height: 1;
    }

    #myakybot-messages {
        flex: 1;
        padding: 1.2rem;
        overflow-y: auto;
        background: #f8f9fa;
    }

    .message {
        margin-bottom: 1rem;
        padding: 1rem 1.3rem;
        border-radius: 18px;
        max-width: 85%;
        line-height: 1.5;
        animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .bot-message {
        background: var(--azul-claro);
        color: white;
        border-bottom-left-radius: 4px;
    }

    .user-message {
        background: #e3f2fd;
        color: #004080;
        margin-left: auto;
        border-bottom-right-radius: 4px;
    }

    .myakybot-input-area {
        display: flex;
        padding: 1rem;
        border-top: 1px solid #ddd;
        background: white;
    }

    #myakybot-input {
        flex: 1;
        padding: 0.9rem 1.2rem;
        border: 1px solid #ccc;
        border-radius: 30px;
        outline: none;
        font-size: 1.05rem;
    }

    #myakybot-send {
        margin-left: 1rem;
        padding: 0.9rem 1.5rem;
        background: var(--azul-pr);
        color: white;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        font-weight: 600;
    }

    .hidden { display: none !important; }
</style>

<script>
    const API_KEY = "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"; // Sua chave Groq já inserida

    const toggleBtn = document.getElementById('myakybot-toggle');
    const windowChat = document.getElementById('myakybot-window');
    const closeBtn = document.getElementById('myakybot-close');
    const input = document.getElementById('myakybot-input');
    const sendBtn = document.getElementById('myakybot-send');
    const messages = document.getElementById('myakybot-messages');

    function addMessage(text, isBot = true) {
        const msg = document.createElement('div');
        msg.className = `message ${isBot ? 'bot-message' : 'user-message'}`;
        msg.innerHTML = text.replace(/\n/g, '<br>');
        messages.appendChild(msg);
        messages.scrollTop = messages.scrollHeight;
    }

    // Saudação inicial
    addMessage("Olá, professor(a).");
    addMessage("Sou o MyakyBot, seu assistente dedicado.");
    addMessage("Estou aqui para apoiar você com planejamento de aulas, estratégias de inclusão, dúvidas de conteúdo, orientações sobre comportamento dos alunos ou qualquer desafio do dia a dia.");
    addMessage("Como posso ajudar você hoje?");

    // Abrir/fechar janela
    toggleBtn.addEventListener('click', () => {
        windowChat.classList.toggle('hidden');
    });

    closeBtn.addEventListener('click', () => {
        windowChat.classList.add('hidden');
    });

    // Função para chamar Groq API (usa Grok-3 ou Llama-3.1)
    async function getGroqResponse(userMessage) {
        try {
            const response = await fetch("https://api.groq.com/openai/v1/chat/completions", {
                method: "POST",
                headers: {
                    "Authorization": `Bearer ${API_KEY}`,
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    model: "llama-3.1-70b-versatile", // Modelo forte e rápido (pode mudar para "grok-3" se disponível no seu plano)
                    messages: [
                        {
                            role: "system",
                            content: "Você é MyakyBot, um assistente sério, acolhedor e profissional para professores brasileiros. Responda de forma empática, clara e prática. Ajude com planejamento de aulas, estratégias de inclusão (TDAH, TEA, dislexia, altas habilidades), orientação sobre comportamento dos alunos, dúvidas de conteúdo ou apoio emocional. Sempre seja respeitoso e útil. Responda em português."
                        },
                        { role: "user", content: userMessage }
                    ],
                    max_tokens: 800,
                    temperature: 0.7
                })
            });

            if (!response.ok) {
                throw new Error(`Erro ${response.status}: ${await response.text()}`);
            }

            const data = await response.json();
            return data.choices[0].message.content.trim();
        } catch (error) {
            console.error("Erro na API Groq:", error);
            return "Desculpe, houve um problema ao conectar com a IA no momento. Tente novamente em alguns segundos ou me conte mais sobre o que precisa – posso ajudar com base no meu conhecimento interno.";
        }
    }

    // Enviar mensagem
    async function sendMessage() {
        const text = input.value.trim();
        if (!text) return;

        addMessage(text, false);
        input.value = '';

        // Mostra "pensando..." enquanto espera
        const thinkingMsg = document.createElement('div');
        thinkingMsg.className = 'message bot-message';
        thinkingMsg.textContent = "Pensando...";
        messages.appendChild(thinkingMsg);
        messages.scrollTop = messages.scrollHeight;

        const resposta = await getGroqResponse(text);

        // Remove "pensando..." e adiciona resposta real
        messages.removeChild(thinkingMsg);
        addMessage(resposta);
    }

    sendBtn.addEventListener('click', sendMessage);
    input.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') sendMessage();
    });
</script>
    <body>

    <header>
        <h1>Professores do Paraná</h1>
        <p>Portal criado por Matheus Rogério Alves Myaky Cenne – aluno do Ensino Médio do Colégio Estadual Professor José Carlos Pinotti</p>
    </header>

    <nav>
        <a href="index.html">Início</a>
        <a href="calendario.html">Calendário 2026</a>
        <a href="ia-geral.html">IA Geral</a>
        <a href="assistentes.html">Assistentes IA</a>
        <a href="bncc.html">Recursos BNCC</a>
        <a href="planos-bncc.html">Planos BNCC</a>
        <a href="inclusao.html">Inclusão</a>
        <a href="contato.html">Contato</a>
    </nav>

    <div class="container">
        <h2>Bem-vindo ao Portal!</h2>
        <p>Este site foi feito com carinho por um aluno do Ensino Médio para ajudar todos os professores do Paraná: da rede estadual, municipal, privada, PSS e mais.</p>
        <p>Aqui você encontra calendário escolar 2026, ferramentas de IA, materiais BNCC, foco em inclusão e muito mais!</p>
        
        <h3>O que você vai encontrar em cada página:</h3>
        <ul>
            <li><strong>Calendário 2026</strong> → Datas, feriados, Prova Paraná e recesso</li>
            <li><strong>IA Geral</strong> → Ferramentas para planejar e avaliar</li>
            <li><strong>Assistentes IA</strong> → Khanmigo, Fluência Paraná e mais</li>
            <li><strong>Recursos BNCC</strong> → Links oficiais e plataformas</li>
            <li><strong>Planos BNCC</strong> → Exemplos prontos de planos de aula</li>
            <li><strong>Inclusão</strong> → IA divertida para TDAH, dislexia, TEA...</li>
            <li><strong>Contato</strong> → Manda sua sugestão ou dúvida!</li>
        </ul>
        
        <p style="text-align: center; font-size: 1.2rem; margin-top: 2rem;">
            <strong>Feito por:</strong> Matheus Rogério Alves Myaky Cenne<br>
            Aluno do Ensino Médio – Colégio Estadual Professor José Carlos Pinotti
        </p>
    </div>

    <footer>
        <p>© 2026 - Criado por um aluno para ajudar professores do Paraná</p>
        <p><a href="https://www.educacao.pr.gov.br/" style="color:white;">SEED-PR</a> | <a href="https://novaescola.org.br/" style="color:white;">Nova Escola</a></p>
    </footer>

</body>

</html>

